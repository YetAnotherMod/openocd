# PowerPC 476FS core

if { [info exists CHIPNAME] } {
	set _CHIPNAME $CHIPNAME
} else {
	set _CHIPNAME ppc476fs
}

if { [info exists ENDIAN] } {
	set _ENDIAN $ENDIAN
} else {
	set _ENDIAN big
}

if { [info exists CPUTAPID ] } {
	set _CPUTAPID $CPUTAPID
} else {
	set _CPUTAPID 0x00000000
}

# temporal solution
if { [info exists COREID] } {
	set _COREID $COREID
} else {
	set _COREID 0
}

jtag newtap $_CHIPNAME cpu -irlen 7 -expected-id $_CPUTAPID
set _TARGETNAME $_CHIPNAME.cpu.$_COREID
target create $_TARGETNAME ppc476fs -chain-position $_CHIPNAME.cpu -endian $_ENDIAN -coreid $_COREID
